---
title: Cloud Computing
date: YYYY-MM-DD HH:MM:SS +09:00
categories: [개념정립, Programmers-DevCourse]
tags:
  [
    Backend,
    Data Engineering
  ]
---

# Cloud Computing

- 컴퓨팅 자원을 네트웍을 통해 서비스 형태로 사용하는 것.

## 클라우드 유형

- On Premises(own server)
- IAAS(virtual machines)
- PAAS(app service)
- SAAS(O365)

## 사용 유무에 따른 차이점

### 사용하지 않을 때
- Provisioning 필요
  + 서버/네트웍/스토리지 구매와 설정 등을 직접 수행해야 함(적어도 2~3달 소모)
    * 초기 비용 : CAPEX(Capital Expenditure)
  + 데이터센터 공간을 직접 확보(Co-location)
  + 확장이 필요한 경우 공간을 먼저 더 확보해야함
- Peak time을 기준으로 Capacity planning 필요
  + 자원 활용 효율성 관리 필요

### 사용할 때
- Pay As You Go : 자원을 필요한만큼 실시간으로 할당하여 사용한만큼 지불
  + 탄력적으로 필요한만큼의 자원을 유지하는 것이 필요
- 초기 투자 비용이 크게 줄어들고 운영 비용 발생.
  + OPEX(Operating Expense)
  + 재무팀과의 소통 필요
- 리소스 준비를 위한 대기시간 대폭 감소
- 자원 활용 효율성 자동 관리(관리에 대한 비용 감소)
- 글로벌 확장 용이
- 소프트웨어 개발 시간 단축
  + SaaS 이용

### 유형에 따른 차이점

- On Premises
  + you manage : Networking, Storage, Servers, Virtualization, O/S, Middleware, Runtime, Data, Aplications
- IAAS
  + you manage : O/S, Middleware, Runtime, Data, Aplications
  + service provider : Networking, Storage, Servers, Virtualization
- PAAS
  + you manage : Data, Aplications
  + service provider : Networking, Storage, Servers, Virtualization, O/S, Middleware, Runtime
- SAAS
  + service provider : Networking, Storage, Servers, Virtualization, O/S, Middleware, Runtime, Data, Aplications

# AWS

## 용어

- 가상화 : 물리적 컴퓨터 하드웨어를 보다 효율적으로 활용할 수 있도록 해주는 프로세스
- 가상머신 : 소프트웨어 형식으로 물리적 컴퓨팅을 시뮬레이션하는 가상 환경
- 스냅샷 : 특정 시점에 스토리지의 파일 시스템을 포착해 보관하는 기술
  + 원본 데이터를 그대로 복사해 다른 곳에 저장하는 백업과 달리 초기 생성 시 혹은 데이터의 변경이 있기 전까지는 스토리지의 공간을 차지하지 않는다.
  + 메타데이터의 복사본에 해당하기 때문에 생성하는 데 오랜 시간이 걸리지 않고, 장애 상황이 발생해도 빠르게 데이터를 복원할 수 있게 한다.
- Region : 데이터 센터가 위치한 지역
- 가용영역(Availability Zone) : 하나의 Region은 두 개 이상의 Availability Zone(AZ)으로 구성됨.

## EC2(Elastic Compute Cloud)

### 용어

- AMI(Amazon Machine Image) : 서버에 필요한 운영체재와 여러 소프트웨어들이 적절히 구성된 상태로 제공되는 템플릿으로 인스턴스를 쉽게 만들 수 있다.
- 키 페어 : 인스턴스 로그인 정보 보호(AWS는 public key를 저장하고 사용자는 private key를 안전한 장소에 보관하는 방식)
- 인스턴스 스토어 볼륨 : 임시 데이터를 저장하는 스토리지 볼륨으로 인스턴스 중단, 최대 절전 모드로 전환 또는 종료 시 삭제됨
- EBS(Elastic Block Store) : EBS 볼륨을 사용하여 영구 스토리지 볼륨에 데이터 저장
- 보안 그룹 : 인스턴스에 연결할 수 있는 프로토콜, 포트, 소스 IP 범위를 지정하는 방화벽 기능
- 탄력적 IP 주소(EIP) : 동적 클라우드 컴퓨팅을 위한 고정 IPv4 주소
  + EC2 생성 시 기본적으로 제공되는 퍼블릭 IPv4 주소, DNS는 인스턴스 실행상태 변경에 따라 계속 변화한다. 이를 고정으로 사용하고 싶을 때 고려.
- 태그 : 사용자가 생성하여 EC2 리소스에 할당할 수 있는 메타데이터
- VPC(Virtual Private Clouds) : AWS 클라우드에서는 논리적으로 격리되어 있지만 원할 때마다 고객의 네트워크와 간편히 연결할 수 있는 가상 네트워크

### 구매 옵션

- On-Demand : 시간당 비용이 지불
  + 가장 흔히 사용하는 옵션
- Reserved : 1년이나 3년간 사용을 보장하고 1/3 정도에서 40% 디스카운트를 받는 옵션
  + 사용을 해야하는 최소 기간이 정해져있는 경우 고려
- Spot Instance : 놀고 있는 리소스들을 On-Demand보다 좀 더 저렴한 비용으로 사용할 수 있는 옵션
  + 일종의 경매방식

### 사용 간 참고사항

- 인스턴스 중지는 비용이 부과될 수 있기 때문에 사용하지 않는 인스턴스는 종료를 해주어야 한다.
- 생성한 키 페어 중 자신이 보관하는 private key는 chmod 400 key.pem으로 권한을 설정해주어야 한다.

## Elastic Beanstalk

애플리케이션을 업로드하기만 하면 Elastic Beanstalk에서 용량 프로비저닝, 로드 밸런싱, 조정, 애플리케이션 상태 모니터링에 대한 세부 정보를 자동으로 처리한다.

### 구성

- web server : nginx
- WAS
  + nginx와 통신을 연결시키기 위해서 기본적으로 5000번 포트를 사용한다.
  + client -> nginx:80 -> WAS:5000
- JDBC 등의 환경 구성은 해당 Beanstalk에 대한 AWS 윂페이지의 좌측 구성 탭에서 수행할 수 있다. 로그 파일 다운로드 또한 가능하다.

### 디렉토리 계층
- Elastic Beanstalk에서의 기본 앱 위치는 /var/app/current이고, log 위치는 /var/log 이다.
  + 웹 애플리케이션에 대한 로그 파일은 web.stdout.log 이다.
  + beanstalk의 로그 파일은 eb-engine.log 이다. 
  + nginx의 로그 위치는 /var/log/nginx 이다.

## S3(Simple Storage Service)

### 구매 옵션

- 1TB per month :
  + Standard storage : $23
  + Infrequent Access storage : $12.5
    * Standard storage보다 데이터 손실 확률(SLA)이 더 높아도 되면 고려
  + Glacier storage : $4
    * 액세스 시간 느려도 될 때 고려


## DB Services

- RDS
  + MySQL, PostgresSQL, Aurora
  + Oracle, MS SQL Server
- DynamoDB
- Redshift
- ElasticCache
- Neptune(Graph DB)
- ElasticSearch
- MongoDB

## AI & ML Services

- SageMaker
- Lex
- Polly
- Rekognition
- Alexa
- Amazon Connect
- Lambda


<br/>
<br/>
<br/>

<hr/>

**ref.**<br/>
- Programmers DevCourse 3기

<hr/>